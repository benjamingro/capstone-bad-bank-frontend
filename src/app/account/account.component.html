<!-- #region initial log in screen -->
<div class="row w-100"
    *ngIf="!isLoggedIn && !createAccountFromScratch_State && !signInWithMyEmail_State && !forgotPassword_State && !forgotPasswordSuccess_State && !error_State && !popupError_State">
    <div class="col-lg-4"></div>
    <div class="col-lg-4 pt-4 ps-4 pe-1">
        <div class="card">
            <div class="card-header d-flex justify-content-center" style="font-weight:bold;">
                Sign in
            </div>
            <div class="card-body">
                <div class="row w-100 mb-4">
                    <div class="col-lg-6 py-2 d-flex justify-content-center">
                        <!-- sign in with email -->
                        <button class="btn btn-secondary me-3 my-1" style="min-width:180px; "
                            (click)="signInWithMyEmail_State = true">
                            <fa-icon [icon]="faEnvelope" style="" class="ms-1 me-2"></fa-icon>Sign in
                            with&nbsp;<b>email</b>
                        </button>
                    </div>
                    <div class="col-lg-6 py-2 d-flex justify-content-center">
                        <!-- sign in with google -->
                        <button class="btn btn-secondary my-1" (click)="signInWithGoogle_submit()">
                            <fa-icon [icon]="faGoogle" style="" class="ms-1 me-2"></fa-icon>Sign in
                            with&nbsp;<b>Google</b>
                        </button>
                    </div>
                </div>

                <!-- Create account -->
                <div class="row w-100">
                    <div class="col d-flex justify-content-center">
                        <a class="lookAlike" (click)="createAccountFromScratch_initial()">Create new account</a>
                    </div>
                </div>

                <!-- Forgot password -->
                <div class="row w-100 mt-3">
                    <div class="col d-flex justify-content-center">
                        <a class="lookAlike" style="font-size:small;" (click)="forgotPassword_State=true">Forgot my
                            password</a>
                    </div>

                </div>

            </div>
        </div>
    </div>
    <div class="col-lg-4"></div>
</div>
<!-- #endregion -->

<!-- #region sql / authentication error screen -->
<app-error *ngIf="error_State"></app-error>
<!-- #endregion -->

<!-- #region popup error -->
<div class="row w-100" *ngIf="popupError_State">
    <div class="col-lg-4"></div>
    <div class="col-lg-4 ps-4 pe-1 pt-4">
        <div class="card">
            <div class="card-body">
                <div class="row w-100 mb-3">
                    <div class="col d-flex justify-content-center">
                        It looks like pop-ups are disabled. Please enable popups for this site to sign in with Google.
                    </div>
                </div>
                <div class="row w-100">
                    <div class="col d-flex justify-content-center">
                        <button class="btn btn-primary" (click)="popupError_State=false">Ok</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-4"></div>

</div>
<!-- #endregion -->


<!-- #region forgot password screen -->
<div class="row w-100" *ngIf="forgotPassword_State && !busy && !error_State">
    <div class="col-lg-4"></div>
    <div class="col-lg-4 pt-4 ps-4 pe-1">
        <div class="card">
            <div class="card-header d-flex justify-content-center" style="font-weight:bold;">
                Reset password
            </div>
            <div class="card-body">
                <form [formGroup]="forgotPasswordForm">
                    <div class="row w-100 mb-2">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6">
                            <label class="text-secondary">Email</label>
                            <input type="email" class="form-control" placeholder="" formControlName="email" required>
                            <div class="row w-100">

                            </div>
                        </div>
                        <div class="col-sm-3"></div>
                    </div>

                    <!-- server side validation -->
                    <div class="row w-100">
                        <div class="col " *ngIf="error_firebaseAuth=='auth/user-not-found'">
                            <span class="">User not found. </span>Create a <a class="lookAlike"
                                (click)="createNewAccount_forgotPasswordForm()">new account</a> or <a class="lookAlike"
                                (click)="tryAgain_forgotPasswordForm()">try again</a>.
                        </div>
                        <div class="col text-danger" *ngIf="error_firebaseAuth=='auth/invalid-email'">
                            Invalid email
                        </div>
                    </div>
                    <!-- client side validation -->
                    <div class="col text-danger" *ngIf="email_forgotPassword?.invalid && forgotPasswordForm_submitted">
                        Email is required
                    </div>
                    <!-- placeholder column -->
                    <div class="col smallDisappear"
                        *ngIf="(email_forgotPassword?.valid && forgotPasswordForm_submitted) || !forgotPasswordForm_submitted">
                        &nbsp;
                    </div>

                    <!-- button row -->
                    <div class="row w-100">
                        <div class="col-6 d-flex justify-content-center">
                            <button class="btn btn-primary" (click)="forgotPassword_submit()">Reset</button>
                        </div>
                        <div class="col-6 d-flex justify-content-center">
                            <button class="btn btn-secondary" (click)="forgotPassword_cancel()">Cancel</button>

                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-4"></div>

</div>
<!-- #endregion -->

<!-- #region forgot password success screen -->
<div class="row w-100" *ngIf="forgotPasswordSuccess_State">
    <div class="col-lg-4"></div>
    <div class="col-lg-4 pt-4 ps-4 pe-1">
        <div class="card">
            <div class="card-header d-flex justify-content-center" style="font-weight: bold;">
                Password reset
            </div>
            <div class="card-body">
                <div class="row w-100">
                    <div class="col">
                        Check your <b>{{email_forgotPassword?.value}}</b> email to finish resetting your password.
                    </div>
                </div>
                <div class="row w-100 mt-3">
                    <div class="col d-flex justify-content-center">
                        <button class="btn btn-primary" (click)="forgotPassword_success_ok()">Ok</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-4"></div>
</div>
<!-- #endregion -->

<!-- #region create account from scratch screen -->
<div class="row w-100"
    *ngIf="!isLoggedIn && createAccountFromScratch_State && !createAccountSuccess_State && !busy && !error_State">
    <div class="col-lg-3"></div>
    <div class="col-lg-6 pt-4 ps-4 pe-1 pb-2">
        <div class="card">
            <div class="card-header d-flex justify-content-center" style="font-weight:bold;">
                Create an account
            </div>
            <div class="card-body">
                <form class="needs-validation" novalidate [formGroup]="createAccountFromScratch_Form"
                    (ngSubmit)="onSubmit()">
                    <!-- #region first name last name -->
                    <div class="row w-100">
                        <div class="col-sm-6">
                            <label class="text-secondary">First name</label>
                            <input type="text" class="form-control" placeholder="" formControlName="firstName" required>
                            <div class="row w-100">
                                <div class="col text-danger"
                                    *ngIf="firstName?.invalid && createAccountFromScratch_Form_submitted">
                                    First name is required
                                </div>
                                <!-- <div class="col smallDisappear"
                                    *ngIf="(firstName?.valid && createAccountFromScratch_Form_submitted) || !createAccountFromScratch_Form_submitted">
                                    &nbsp;
                                </div> -->
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="text-secondary">Last name</label>
                            <input type="text" class="form-control" placeholder="" formControlName="lastName" required>
                            <div class="row w-100">
                                <div class="col text-danger"
                                    *ngIf="lastName?.invalid && createAccountFromScratch_Form_submitted">
                                    Last name is required
                                </div>
                                <!-- <div class="col smallDisappear"
                                    *ngIf="(lastName?.valid && createAccountFromScratch_Form_submitted) || !createAccountFromScratch_Form_submitted">
                                    &nbsp;
                                </div> -->
                            </div>
                        </div>
                    </div>

                    <div class="row w-100">
                        <div class="col-sm-6">
                            <label class="text-secondary">Email</label>
                            <input type="email" class="form-control" id="validationCustom01" placeholder=""
                                formControlName="email" required>
                            <div class="row w-100">
                                <!-- client side validation -->
                                <div class="col text-danger"
                                    *ngIf="email?.invalid && createAccountFromScratch_Form_submitted">
                                    Email is required
                                </div>
                                <!-- server side validation -->
                                <div class="col " *ngIf="error_firebaseAuth=='auth/email-already-in-use'">
                                    <span class="text-danger">Email address already in use.</span>
                                </div>
                                <div class="col " *ngIf="error_firebaseAuth=='auth/invalid-email'">
                                    <span class="text-danger">Invalid email address.</span>
                                </div>
                                <!-- placeholder column -->
                                <!-- <div class="col smallDisappear"
                                    *ngIf="(email?.valid && createAccountFromScratch_Form_submitted) || !createAccountFromScratch_Form_submitted">
                                    &nbsp;
                                </div> -->
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label class="text-secondary">Telephone</label>
                            <input type="tel" class="form-control" placeholder="(optional)" formControlName="telephone">
                            <div class="row w-100">
                                <!-- <div class="col smallDisappear">
                                    &nbsp;
                                </div> -->
                            </div>
                        </div>
                    </div>
                    <div class="row w-100">
                        <!-- password -->
                        <div class="col-sm-6">
                            <label class="text-secondary">Password</label>
                            <div class="input-group">
                                <input [type]="viewPassword_createAccountFromScratch_Form ? 'text' : 'password'" class="form-control" formControlName="password" required>
                                <div class="input-group-append"
                                (click)="viewPassword_createAccountFromScratch_Form = !viewPassword_createAccountFromScratch_Form">
                                <span class="input-group-text">
                                    <fa-icon [icon]="faEyeSlash" style="" class=""
                                        *ngIf="viewPassword_createAccountFromScratch_Form"></fa-icon>
                                    <fa-icon [icon]="faEye" style="" class="" *ngIf="!viewPassword_createAccountFromScratch_Form">
                                    </fa-icon>
                                </span>
                            </div>
                            </div>
                            <div class="row w-100">
                                <!-- client side validation  -->
                                <div class="col text-danger"
                                    *ngIf="password?.invalid && createAccountFromScratch_Form_submitted">
                                    Password is required
                                </div>
                                <!-- server side validation  -->
                                <div class="col " *ngIf="error_firebaseAuth=='auth/weak-password'">
                                    <span class="text-danger">Password is too weak</span>
                                </div>
                                <!-- placeholder  -->
                                <!-- <div class="col smallDisappear"
                                    *ngIf="(password?.valid && createAccountFromScratch_Form_submitted) || !createAccountFromScratch_Form_submitted">
                                    &nbsp;
                                </div> -->
                            </div>
                        </div>
                        <!-- re-enter password -->
                        <div class="col-sm-6">
                            <label class="text-secondary">Confirm password</label>
                            <div class="input-group">
                                <input [type]="viewPassword_createAccountFromScratch_Form ? 'text' : 'password'" class="form-control" formControlName="passwordReenter" required>
                                <div class="input-group-append"
                                (click)="viewPassword_createAccountFromScratch_Form = !viewPassword_createAccountFromScratch_Form">
                                <span class="input-group-text">
                                    <fa-icon [icon]="faEyeSlash"
                                        *ngIf="viewPassword_createAccountFromScratch_Form"></fa-icon>
                                    <fa-icon [icon]="faEye" *ngIf="!viewPassword_createAccountFromScratch_Form">
                                    </fa-icon>
                                </span>
                            </div>
                            </div>
                            <div class="row w-100">
                                <!-- client side validation  -->
                                <div class="col text-danger"
                                    *ngIf="createAccountFromScratch_Form_submitted && passwordReenter?.errors?.required">
                                    Must confirm password
                                </div>
                                <div class="col text-danger"
                                    *ngIf="createAccountFromScratch_Form_submitted && passwordReenter?.errors?.matching && !passwordReenter?.errors?.required ">
                                    Passwords do not match
                                </div>
                                <!-- server side validation  -->
                                <!-- <div class="col " *ngIf="error_firebaseAuth=='auth/weak-password'">
                                    <span class="text-danger">Password is too weak</span>
                                </div> -->
                                
                            </div>
                        </div>

                    </div>

                    <div class="row w-100 mt-3 mb-2 text-secondary">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6 align-self-center">
                            <input type="checkbox" formControlName="agree">&nbsp;&nbsp;I agree to the
                            <a class="lookAlike" (click)="openModal(content)">Terms and Conditions</a>

                        </div>
                        <div class="col-sm-6"></div>
                    </div>

                    <div class="row w-100">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6 text-danger"
                            *ngIf="agree?.invalid && createAccountFromScratch_Form_submitted">
                            Must agree to terms and conditions
                        </div>
                        <!-- <div class="col-sm-6 smallDisappear"
                            *ngIf="(agree?.valid && createAccountFromScratch_Form_submitted) || !createAccountFromScratch_Form_submitted">
                            &nbsp;
                        </div> -->
                        <div class="col-sm-3"></div>
                    </div>

                    <!-- #region button row -->
                    <div class="row w-100">
                        <div class="col-6 my-2 d-flex justify-content-center">
                            <button class="btn btn-primary" (click)="createAccountFromScratch_submit()">
                                Create account
                            </button>
                        </div>
                        <div class="col-6 my-2 d-flex justify-content-center">
                            <button class="btn btn-secondary" (click)="createAccountFromScratch_cancel()">
                                Cancel
                            </button>
                        </div>

                    </div>
                    <!-- #endregion -->
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-3"></div>
</div>
<!-- #endregion -->

<!-- #region terms and conditions modal -->
<ng-template #content let-modal>
    <div class="card">
        <div class="card-header">
            <div class="row w-100">
                <div class="col-10">
                    <b>Terms and conditions</b>
                </div>
                <div class="col-2 d-flex justify-content-end">
                    <a (click)="modal.dismiss('Cross click')">
                        <fa-icon [icon]="faTimes" style="" class=""></fa-icon>
                    </a>
                </div>
            </div>
        </div>
        <div class="card-body">
            <p class="card-text">
                Please read these terms and conditions ("terms and conditions", "terms") carefully before using Bad Bank
                website (“website”,"service") operated by Bad Bank ("us", 'we", "our").
            </p>
            <p class="card-text">
                <b>Conditions of use</b>
            </p>
            <p class="card-text">
                By using this website, you certify that you have read and reviewed this Agreement and that you agree to
                comply with its terms. If you do not want to be bound by the terms of this Agreement, you are advised to
                leave the website accordingly. Bad Bank only grants use and access of this website, its products, and
                its services to those who have accepted its terms.
            </p>
            <p class="card-text">
                <b>Privacy policy</b>
            </p>
            <p class="card-text">
                Before you continue using our website, we advise you to read our privacy policy regarding our user data
                collection. It will help you better understand our practices.
            </p>
            <p class="card-text">
                <b>Age restriction</b>
            </p>
            <p class="card-text">
                You must be at least 18 (eighteen) years of age before you can use this website. By using this website,
                you warrant that you are at least 18 years of age and you may legally adhere to this Agreement. Bad Bank
                assumes no responsibility for liabilities related to age misrepresentation.
            </p>
            <p class="card-text">
                <b>Intellectual property</b>
            </p>
            <p class="card-text">
                You agree that all materials, products, and services provided on this website are the property of Bad
                Bank, its affiliates, directors, officers, employees, agents, suppliers, or licensors including all
                copyrights, trade secrets, trademarks, patents, and other intellectual property. You also agree that you
                will not reproduce or redistribute the Bad Bank’s intellectual propertyin any way, including electronic,
                digital, or new trademark registrations.You grant Bad Bank a royalty-free and non-exclusive license to
                display, use, copy, transmit, and broadcast the content you upload and publish. For issues regarding
                intellectual property claims, you should contact the company in order to come to an agreement.
            </p>
            <p class="card-text">
                <b>User accounts</b>
            </p>
            <p class="card-text">
                As a user of this website, you may be asked to register with us and provide private information. You are
                responsible for ensuring the accuracy of this information, and you are responsible for maintaining the
                safety and security of your identifying information. You are also responsible for all activities that
                occur under your account or password.If you think there are any possible issues regarding the security
                of your account on the website, inform us immediately so we may address themaccordingly. We reserve all
                rights to terminate accounts, edit or remove content and cancel orders at our sole discretion.
            </p>
            <p class="card-text">
                <b>Applicable law</b>
            </p>
            <p class="card-text">
                By visiting this website, you agree that the laws of the United States, without regard to principles of
                conflict laws, will govern these terms and conditions, or any dispute of any sort that might come
                between Bad Bank and you, or its business partners and associates.
            </p>
            <p class="card-text">
                <b>Disputes</b>
            </p>
            <p class="card-text">
                Any dispute related in any way to your visit to this website or to products you purchase from us shall
                be arbitrated by state or federal court United States and you consent to exclusive jurisdiction and
                venue of such courts.
            </p>
            <p class="card-text">
                <b>Indemnification</b>
            </p>
            <p class="card-text">
                You agree to indemnify Bad Bank and its affiliates and hold Bad Bank harmless against legal claims and
                demands that may arise from your use or misuse of our services. We reserve the right to select our own
                legal counsel.
            </p>
            <p class="card-text">
                <b>Limitation on liability</b>
            </p>
            <p class="card-text">
                Bad Bank is not liable for any damages that may occur to you as a result of your misuse of our website.
                Bad Bank reserves the right to edit, modify, and change this Agreement at any time. We shall let our
                users know of these changes through electronic mail. This Agreement is an understanding between Bad Bank
                and the user, and this supersedes and replaces all prior agreements regarding the use of this website.
            </p>
            <div class="row w-100">
                <div class="d-flex justify-content-center">
                    <button class="btn btn-primary" (click)="modal.dismiss('Ok click')">Ok</button>
                </div>
            </div>
        </div>
    </div>
    <!-- <div class="modal-header">
      Terms and conditions
      <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('Cross click')">
        <fa-icon [icon]="faTimes" style="" class=""></fa-icon>
      </button>
    </div>
    <div class="modal-body">
      
    </div> -->
    <!-- <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
    </div> -->
</ng-template>
<!-- #endregion -->


<!-- #region wait screen -->
<app-busy *ngIf="busy && !error_State"></app-busy>
<!-- #endregion -->

<!-- #region sign in with email screen -->
<div class="row w-100" *ngIf="signInWithMyEmail_State && !busy && !error_State">
    <div class="col-lg-4"></div>
    <div class="col-lg-4 pt-4 ps-4 pe-1">
        <div class="card">
            <div class="card-header">
                <fa-icon [icon]="faEnvelope" style="" class="ms-1 me-2"></fa-icon>Sign in with email
            </div>
            <div class="card-body">
                <form class="needs-validation" novalidate [formGroup]="signInWithEmailForm" (ngSubmit)="onSubmit()">
                    <!-- email input row -->
                    <div class="row w-100 ">
                        <div class="col input-group">
                            <input type="email" class="form-control" id="validationCustom01" placeholder="Email"
                                formControlName="email" required>
                        </div>
                    </div>

                    <!-- email error row -->
                    <div class="row w-100 mb-3">
                        <!-- client side validation -->
                        <div class="col text-danger"
                            *ngIf="email_signInWithEmail?.invalid && signInWithEmailForm_submitted">
                            Email is required
                        </div>
                        <!-- server side validation -->
                        <div class="col " *ngIf="error_firebaseAuth=='auth/user-not-found'">
                            <span class="">User not found. </span>Create a <a class="lookAlike"
                                (click)="createNewAccount_signInWithEmailForm()">new account</a> or <a class="lookAlike"
                                (click)="tryAgain_signInWithEmailForm()">try again</a>.
                        </div>
                    </div>

                    <!-- password input row -->
                    <div class="row w-100">
                        <div class="col input-group">
                            <input [type]="viewPassword_signInWithEmailForm ? 'text' : 'password'" class="form-control"
                                id="validationCustom02" placeholder="Password" formControlName="password" required>
                            <div class="input-group-append"
                                (click)="viewPassword_signInWithEmailForm = !viewPassword_signInWithEmailForm">
                                <span class="input-group-text">
                                    <fa-icon [icon]="faEyeSlash" style="" class=""
                                        *ngIf="viewPassword_signInWithEmailForm"></fa-icon>
                                    <fa-icon [icon]="faEye" style="" class="" *ngIf="!viewPassword_signInWithEmailForm">
                                    </fa-icon>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- password error row -->
                    <div class="row w-100">
                        <!-- client side validation -->
                        <div class="col text-danger"
                            *ngIf="password_signInWithEmail?.invalid && signInWithEmailForm_submitted && error_firebaseAuth==''">
                            Password is required
                        </div>
                        <!-- server side validation -->
                        <div class="col " *ngIf="error_firebaseAuth=='auth/wrong-password'">
                            <span class="text-danger">Wrong password</span>
                        </div>
                    </div>
                    <!-- #endregion -->

                    <!-- #region button row -->
                    <div class="row w-100 mt-3">
                        <div class="col-6 d-flex justify-content-center">
                            <button class="btn btn-primary me-3 my-1" style=" " (click)="signInWithEmail_submit()">Log
                                in</button>
                        </div>
                        <div class="col-6 d-flex justify-content-center">
                            <button class="btn btn-secondary my-1" (click)="cancel_signInWithEmailForm()">
                                Cancel
                            </button>
                        </div>
                    </div>
                    <!-- #endregion -->
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-4"></div>
</div>
<!-- #endregion -->

<!-- #region create account from google screen -->
<div class="row w-100"
    *ngIf="isLoggedIn && createAccountFromGoogle_State && !createAccountSuccess_State && !busy && !error_State">
    <div class="col-lg-3"></div>
    <div class="col-lg-6 pt-4 ps-4 pe-1">
        <div class="card">
            <div class="card-header">
                <b>Welcome to Bad Bank</b>
            </div>
            <div class="card-body">
                <p class="card-text">Please finish setting up your account</p>

                <form class="needs-validation" novalidate [formGroup]="createAccountFromGoogle_Form"
                    (ngSubmit)="onSubmit()">
                    <div class="row w-100">
                        <div class="col-sm-6 mb-1">
                            <!-- first name -->
                            <label class="text-secondary">First name</label>
                            <input type="text" class="form-control" placeholder="" formControlName="firstName" required>
                            <div class="row w-100">
                                <div class="col text-danger"
                                    *ngIf="firstName_google?.invalid && createAccountFromGoogle_Form_submitted">
                                    First name is required
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 mb-1">
                            <!-- last name -->
                            <label class="text-secondary">Last name</label>
                            <input type="text" class="form-control" placeholder="" formControlName="lastName" required>
                            <div class="row w-100">
                                <div class="col text-danger"
                                    *ngIf="lastName_google?.invalid && createAccountFromGoogle_Form_submitted">
                                    Last name is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row w-100">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6 mb-1">
                            <!-- telephone -->
                            <label class="text-secondary">Telephone</label>
                            <input type="tel" class="form-control" placeholder="(optional)" formControlName="telephone">

                        </div>
                        <div class="col-sm-3"></div>

                    </div>

                    <div class="row w-100 mt-3 mb-2 text-secondary">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6 align-self-center">
                            <input type="checkbox" formControlName="agree">&nbsp;&nbsp;I agree to the Terms and
                            Conditions
                        </div>
                        <div class="col-sm-6"></div>
                    </div>

                    <div class="row w-100">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6 text-danger"
                            *ngIf="agree_google?.invalid && createAccountFromGoogle_Form_submitted">
                            Must agree to terms and conditions
                        </div>

                        <div class="col-sm-3"></div>
                    </div>

                    <!-- #region button row -->
                    <div class="row w-100 mt-2">
                        <div class="col-6 my-2 d-flex justify-content-center">
                            <button class="btn btn-primary" (click)="createAccountFromGoogle_submit()">
                                Create account
                            </button>
                        </div>
                        <div class="col-6 my-2 d-flex justify-content-center">
                            <button class="btn btn-secondary" (click)="createAccountFromGoogle_cancel()">
                                Cancel
                            </button>
                        </div>

                    </div>
                    <!-- #endregion -->
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-3"></div>
</div>
<!-- #endregion -->


<!-- #region create account success screen -->
<div class="row w-100" *ngIf="createAccountSuccess_State">
    <div class="col-lg-3"></div>
    <div class="col-lg-6 pt-4 ps-4 pe-1">
        <div class="card">
            <div class="card-body">
                <div class="row w-100 mb-4">
                    <div class="col " style="font-size:1.2rem; ">
                        Welcome to Bad Bank, <span
                            style="font-weight:bold;">{{badBankService.badBankUser?.Fname}}</span>.
                    </div>
                </div>
                <div class="row w-100 mb-4">
                    <div class="col d-flex">
                        Get started with a {{badBankService.badBankUser?.AccountBalance | currency}} account
                        balance as a welcome gift.
                    </div>

                </div>
                <div class="row w-100">
                    <div class="col d-flex justify-content-center">
                        <button class="btn btn-primary" style="min-width:80px;"
                            (click)="createAccountSuccess_ok()">Ok</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3"></div>
</div>
<!-- #endregion -->

<!-- #region general screen -->
<div class="row w-100"
    *ngIf="isLoggedIn && !createAccountSuccess_State && !viewTransactionHistory_State && !createAccountFromGoogle_State && !error_State">
    <div class="col-lg-4"></div>
    <div class="col-lg-4 pt-4 ps-4 pe-1">
        <div class="card">
            <div class="card-header">
                <div class="row  w-100">
                    <div class="col-6 align-self-center" style="font-weight: bold; font-size: 1.3rem;">
                        Welcome {{badBankService.badBankUser?.Fname}}
                    </div>
                    <div class="col-6 d-flex justify-content-end align-self-center">
                        <span class="text-secondary">Account balance:</span>&nbsp;<span style="font-weight:bold;"
                            class="align-self-center">{{badBankService.badBankUser?.AccountBalance | currency}}</span>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <a routerLink="/deposit">Deposit</a>
                    </li>
                    <li class="list-group-item">
                        <a routerLink="/withdraw">Withdraw</a>
                    </li>
                    <li class="list-group-item">
                        <a (click)="viewTransactionHistory_State=true" class="lookAlike">View transactions</a>
                    </li>
                    <li class="list-group-item">
                        <a (click)="mySignOut()" class="lookAlike">Logout</a>
                    </li>
                </ul>




            </div>
        </div>
    </div>
    <div class="col-lg-4"></div>
</div>
<!-- #endregion -->

<!-- #region transaction history screen -->
<div class="row w-100" *ngIf="viewTransactionHistory_State ">
    <div class="col-lg-3"></div>
    <div class="col-lg-6 pt-4 ps-4 pe-1">
        <div class="card">
            <div class="card-header">
                <div class="row w-100">
                    <div class="col align-self-center py-1" style="font-weight:bold;font-size:1.2rem;">Transaction
                        history</div>
                    <div class="col d-flex justify-content-center align-self-center py-1">
                        <span class="text-secondary">Account balance:</span>&nbsp;<b
                            class="align-self-center">{{badBankService.badBankUser?.AccountBalance | currency}}</b>
                    </div>
                    <div class="col d-flex justify-content-end align-self-center py-1">
                        <a (click)="viewTransactionHistory_State=false" class="lookAlike">
                            <fa-icon [icon]="faArrowLeft" style="" class="ms-1 me-2"></fa-icon>&nbsp;&nbsp;Account
                        </a>
                    </div>
                </div>
            </div>
            <div class="card-body tableFixHead">
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">
                                Date
                            </th>
                            <th scope="col">
                                Amount
                            </th>
                            <th scope="col">
                                Payor/Payee
                            </th>
                            <th scope="col">
                                Balance
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let transaction of badBankService.badBankUser?.TransactionHistory">
                            <td scope="col">{{transaction.TransactionTime | date}}</td>
                            <td scope="col">{{transaction.TransactionAmount | currency}}</td>
                            <td scope="col">{{transaction.Payee}}</td>
                            <td scope="col">{{transaction.AccountBalanceAfter | currency}}</td>
                        </tr>

                    </tbody>
                </table>

            </div>
        </div>
    </div>
    <div class="col-lg-3"></div>

</div>
<!-- #endregion -->